{% load cms_tags sekizai_tags static %}
{% include "djangocms_lightbox2/includes/assets.html" %}

{% addtoblock "css" %}
  <link rel="stylesheet" href="{% static 'djangocms_lightbox2/gallery/gallery.css' %}">
  {% if gallery_layout == 'justified' %}
    <link rel="stylesheet" href="{% static 'djangocms_lightbox2/gallery/justified.css' %}">
  {% endif %}
{% endaddtoblock %}

<div class="dclb2-gallery" id="lb-gallery-{{ instance.pk }}" data-layout="{{ gallery_layout }}"
     data-gutter="{{ gallery_gutter }}" data-cols-desktop="{{ gallery_cols.desktop }}"
     data-cols-tablet="{{ gallery_cols.tablet }}" data-cols-mobile="{{ gallery_cols.mobile }}"
     data-row-height="{{ gallery_row_height }}" data-tolerance="{{ gallery_tolerance }}">
  {% if items %}
    {% if gallery_layout == 'grid' %}
      {% include 'djangocms_lightbox2/plugins/gallery_grid.html' %}
    {% elif gallery_layout == 'masonry' %}
      {% include 'djangocms_lightbox2/plugins/gallery_masonry.html' %}
    {% elif gallery_layout == 'justified' %}
      {% include 'djangocms_lightbox2/plugins/gallery_justified.html' %}
    {% else %}
      {% include 'djangocms_lightbox2/plugins/gallery_grid.html' %}
    {% endif %}
  {% else %}
    <!-- Sin elementos. AÃ±ade plugins 'Lightbox2 Image' como hijos. -->
  {% endif %}
  <noscript>Habilita JavaScript para usar Lightbox2.</noscript>
</div>

{% addtoblock "js" %}
  {% if gallery_layout == 'justified' %}
    <script src="{% static 'djangocms_lightbox2/gallery/justified.js' %}"></script>
  {% endif %}
{% endaddtoblock %}
